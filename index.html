<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learn IP Subnetting</title>
    <style>
        :root {
            --primary-color: #2196F3;
            --secondary-color: #1976D2;
            --success-color: #4CAF50;
            --border-color: #e0e0e0;
            --background-light: #f5f5f5;
            --text-color: #333;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px;
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            color: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .section {
            margin-bottom: 40px;
            padding: 30px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .step {
            margin-bottom: 30px;
            padding: 20px;
            background: var(--background-light);
            border-radius: 6px;
            border-left: 4px solid var(--primary-color);
        }

        .step h3 {
            margin-bottom: 15px;
            color: var(--secondary-color);
        }

        .binary-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            table-layout: fixed;
        }

        .binary-table th, .binary-table td {
            border: 1px solid var(--border-color);
            padding: 12px 8px;
            text-align: center;
            vertical-align: middle;
            font-family: monospace;
            font-size: 1.1em;
        }

        .binary-table th {
            background: var(--primary-color);
            color: white;
            font-weight: 600;
            padding: 15px 10px;
        }

        .binary-table tr:nth-child(even) {
            background-color: #f8f9fa;
        }

        .example {
            background: #e3f2fd;
            padding: 20px;
            border-radius: 6px;
            margin: 20px 0;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .example p {
            margin-bottom: 12px;
        }

        .example p:last-child {
            margin-bottom: 0;
        }

        .example ol, .example ul {
            margin: 15px 0;
            padding-left: 25px;
        }

        .example li {
            margin-bottom: 8px;
        }

        .calculator {
            margin: 25px 0;
            padding: 25px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .calculator h4 {
            margin-bottom: 15px;
            color: var(--secondary-color);
        }

        input {
            padding: 10px 12px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            margin: 5px;
            font-size: 16px;
            width: 200px;
        }

        input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px rgba(33, 150, 243, 0.1);
        }

        button {
            padding: 10px 20px;
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.2s ease;
            margin: 5px;
        }

        button:hover {
            background: var(--secondary-color);
            transform: translateY(-1px);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .result {
            margin-top: 25px;
            padding: 20px;
            background: #f8f9fa;
            color: var(--text-color);
            border-radius: 6px;
            border: 1px solid var(--border-color);
            display: none;
        }

        .result h4 {
            color: var(--secondary-color);
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--border-color);
        }

        .result p {
            margin-bottom: 10px;
            line-height: 1.5;
        }

        .result .binary-table {
            margin: 15px 0;
        }

        .highlight {
            background: #fff3cd;
            padding: 4px 8px;
            border-radius: 4px;
            font-family: monospace;
            font-size: 1.1em;
            color: #856404;
        }

        .note {
            font-style: italic;
            color: #666;
            margin: 15px 0;
            padding: 10px;
            background: #f8f9fa;
            border-left: 3px solid #666;
            border-radius: 0 4px 4px 0;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            body {
                padding: 15px;
            }

            .section {
                padding: 20px;
            }

            .step {
                padding: 15px;
            }

            input {
                width: 100%;
                margin: 5px 0;
            }

            button {
                width: 100%;
                margin: 10px 0;
            }
        }

        .input-group {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 20px;
        }

        .input-field {
            flex: 1;
            min-width: 200px;
        }

        .input-field label {
            display: block;
            margin-bottom: 5px;
            color: var(--secondary-color);
            font-weight: 500;
        }

        .hint {
            font-size: 0.9em;
            color: #666;
            margin-top: 5px;
            font-style: italic;
        }

        .calculator .example {
            background: #f8f9fa;
            border: 1px solid var(--border-color);
        }

        .calculator .binary-table th {
            background: var(--secondary-color);
            font-size: 0.9em;
            padding: 10px;
        }

        .calculator .binary-table td {
            font-size: 0.9em;
            padding: 8px;
        }

        .process-steps {
            display: grid;
            gap: 20px;
            margin: 20px 0;
        }

        .step-box {
            background: white;
            padding: 15px;
            border-radius: 6px;
            border-left: 4px solid var(--primary-color);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .step-box h5 {
            color: var(--primary-color);
            margin: 0 0 10px 0;
            font-size: 1.1em;
        }

        .step-box p {
            margin: 0 0 10px 0;
            color: #666;
        }

        .formula {
            background: #f8f9fa;
            padding: 8px;
            border-radius: 4px;
            font-family: monospace;
            color: var(--secondary-color);
        }

        @media (min-width: 768px) {
            .process-steps {
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            }
        }

        .formula-container {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 6px;
            margin-top: 10px;
        }

        .formula-step {
            margin-bottom: 12px;
        }

        .formula-step:last-child {
            margin-bottom: 0;
        }

        .step-label {
            display: block;
            color: var(--secondary-color);
            font-weight: 500;
            margin-bottom: 4px;
        }

        .binary-line {
            font-family: monospace;
            white-space: pre;
            margin: 0;
            padding: 4px 8px;
            background: white;
            border-radius: 4px;
            border: 1px solid var(--border-color);
            font-size: 0.9em;
        }

        .address-line {
            font-family: monospace;
            white-space: pre;
            margin: 0;
            padding: 4px 8px;
            background: white;
            border-radius: 4px;
            border: 1px solid var(--border-color);
            font-size: 1em;
        }

        .step-box {
            background: white;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid var(--primary-color);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        .step-box h5 {
            color: var(--primary-color);
            margin: 0 0 12px 0;
            font-size: 1.1em;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 8px;
        }

        .step-box p {
            margin: 0 0 12px 0;
            color: #666;
            line-height: 1.4;
        }

        @media (max-width: 768px) {
            .binary-line, .address-line {
                font-size: 0.8em;
                overflow-x: auto;
            }
        }

        .process-steps-horizontal {
            display: flex;
            align-items: flex-start;
            gap: 15px;
            overflow-x: auto;
            padding: 20px 0;
            margin: 0 -20px;
            padding: 20px;
        }

        .step-card {
            flex: 1;
            min-width: 280px;
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            position: relative;
            border: 1px solid var(--border-color);
        }

        .step-number {
            position: absolute;
            top: -12px;
            left: -12px;
            width: 24px;
            height: 24px;
            background: var(--primary-color);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .step-arrow {
            display: flex;
            align-items: center;
            color: var(--primary-color);
            font-size: 24px;
            padding: 0 10px;
            margin-top: 100px;
        }

        .step-content {
            margin-top: 10px;
        }

        .step-content p {
            margin: 10px 0 5px 0;
            color: var(--secondary-color);
            font-weight: 500;
        }

        .result-text {
            margin-top: 15px;
            padding: 8px;
            background: #e3f2fd;
            border-radius: 4px;
            color: var(--primary-color);
            font-weight: bold;
            text-align: center;
        }

        .binary-line, .address-line {
            font-family: monospace;
            white-space: pre;
            background: #f8f9fa;
            padding: 8px;
            border-radius: 4px;
            border: 1px solid var(--border-color);
            font-size: 0.9em;
            margin: 5px 0;
        }

        @media (max-width: 768px) {
            .process-steps-horizontal {
                flex-direction: column;
                align-items: stretch;
            }

            .step-arrow {
                transform: rotate(90deg);
                margin: 10px auto;
            }

            .step-card {
                min-width: unset;
            }
        }

        .process-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin: 20px 0;
        }

        .step-card {
            background: white;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            position: relative;
            border: 1px solid var(--border-color);
        }

        .step-number {
            position: absolute;
            top: -10px;
            left: -10px;
            width: 24px;
            height: 24px;
            background: var(--primary-color);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .step-content {
            margin-top: 5px;
        }

        .binary-box {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 4px;
            margin-top: 10px;
        }

        .binary-box p {
            margin: 5px 0;
            color: var(--secondary-color);
            font-weight: 500;
        }

        .address-box {
            display: flex;
            flex-direction: column;
            gap: 5px;
            background: white;
            padding: 8px;
            border-radius: 4px;
            border: 1px solid var(--border-color);
        }

        .result-box {
            margin-top: 10px;
            padding: 8px;
            background: #e3f2fd;
            border-radius: 4px;
            color: var(--primary-color);
            font-weight: 500;
            text-align: center;
        }

        @media (max-width: 768px) {
            .process-grid {
                grid-template-columns: 1fr;
            }
        }

        .calculation-step {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px;
            background: white;
            border-radius: 4px;
            margin: 5px 0;
            border: 1px solid var(--border-color);
        }

        .step-title {
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 10px;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 5px;
        }

        .label {
            font-weight: 500;
            color: var(--secondary-color);
            min-width: 120px;
        }

        .binary-value {
            font-family: monospace;
            background: #f8f9fa;
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 0.9em;
        }

        .ip-value {
            font-family: monospace;
            font-weight: 600;
            color: var(--primary-color);
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>Learn IP Subnetting</h1>
        <p>A step-by-step guide to understanding IP addressing and subnetting</p>
    </div>

    <div class="section">
        <h2>1. Understanding Binary Conversion</h2>
        <div class="step">
            <h3>The Binary Position Values</h3>
            <table class="binary-table">
                <tr>
                    <th>128</th>
                    <th>64</th>
                    <th>32</th>
                    <th>16</th>
                    <th>8</th>
                    <th>4</th>
                    <th>2</th>
                    <th>1</th>
                </tr>
                <tr>
                    <td>2⁷</td>
                    <td>2⁶</td>
                    <td>2⁵</td>
                    <td>2⁴</td>
                    <td>2³</td>
                    <td>2²</td>
                    <td>2¹</td>
                    <td>2⁰</td>
                </tr>
            </table>
        </div>

        <div class="step">
            <h3>Converting Decimal to Binary</h3>
            <p>Example: Converting 100 to binary</p>
            <ol>
                <li>Can we subtract 128 from 100? No (0)</li>
                <li>Can we subtract 64 from 100? Yes! 100 - 64 = 36 (1)</li>
                <li>Can we subtract 32 from 36? Yes! 36 - 32 = 4 (1)</li>
                <li>Can we subtract 16 from 4? No (0)</li>
                <li>Can we subtract 8 from 4? No (0)</li>
                <li>Can we subtract 4 from 4? Yes! 4 - 4 = 0 (1)</li>
                <li>Can we subtract 2 from 0? No (0)</li>
                <li>Can we subtract 1 from 0? No (0)</li>
            </ol>
            <p class="example">Result: 100 = 01100100 in binary</p>
        </div>
    </div>

    <div class="section">
        <h2>2. Understanding ANDing</h2>
        <div class="step">
            <h3>What is ANDing?</h3>
            <p>ANDing is a process where we compare two binary numbers bit by bit. For each position:</p>
            <ul>
                <li>If both bits are 1, the result is 1</li>
                <li>If either bit is 0, the result is 0</li>
            </ul>
            <table class="binary-table">
                <tr>
                    <th colspan="8">ANDing Example</th>
                </tr>
                <tr>
                    <td>1</td><td>1</td><td>0</td><td>0</td><td>1</td><td>1</td><td>0</td><td>0</td>
                </tr>
                <tr>
                    <td>1</td><td>1</td><td>1</td><td>1</td><td>0</td><td>0</td><td>0</td><td>0</td>
                </tr>
                <tr>
                    <th>1</th><th>1</th><th>0</th><th>0</th><th>0</th><th>0</th><th>0</th><th>0</th>
                </tr>
            </table>
        </div>
    </div>

    <div class="section">
        <h2>3. Complete Subnetting Process</h2>
        <div class="step">
            <h3>Step 1: Convert IP to Binary</h3>
            <div class="calculator">
                <input type="text" id="ipForBinary" placeholder="Enter number (0-255)">
                <button onclick="showBinaryConversion()">Convert to Binary</button>
                <div id="binaryResult" class="result"></div>
            </div>
        </div>

        <div class="step">
            <h3>Step 2: Determine Subnet Mask</h3>
            <div class="example">
                <h4>Why 32 Bits?</h4>
                <p>An IPv4 address consists of 32 bits divided into 4 octets (8 bits each):</p>
                <ul>
                    <li>First Octet: 8 bits</li>
                    <li>Second Octet: 8 bits</li>
                    <li>Third Octet: 8 bits</li>
                    <li>Fourth Octet: 8 bits</li>
                </ul>
                <p class="note">Each octet can represent numbers from 0 to 255 (2⁸ - 1)</p>
            </div>

            <div class="example">
                <h4>Understanding /20 Network</h4>
                <p>In a /20 network:</p>
                <ul>
                    <li>First 20 bits are network bits (set to 1)</li>
                    <li>Remaining 12 bits are host bits (set to 0)</li>
                </ul>
                
                <table class="binary-table">
                    <tr>
                        <th colspan="8">First Octet</th>
                        <th colspan="8">Second Octet</th>
                        <th colspan="4">Third Octet</th>
                        <th colspan="12">Remaining Bits</th>
                    </tr>
                    <tr>
                        <td colspan="8" style="background-color: #e3f2fd">11111111</td>
                        <td colspan="8" style="background-color: #e3f2fd">11111111</td>
                        <td colspan="4" style="background-color: #e3f2fd">1111</td>
                        <td colspan="12" style="background-color: #fff3cd">000000000000</td>
                    </tr>
                    <tr>
                        <td colspan="8">255</td>
                        <td colspan="8">255</td>
                        <td colspan="4">240</td>
                        <td colspan="12">0</td>
                    </tr>
                </table>

                <div class="note" style="margin-top: 15px">
                    <p><strong>Final Subnet Mask: 255.255.240.0</strong></p>
                    <ul>
                        <li>First octet (8 bits): 11111111 = 255</li>
                        <li>Second octet (8 bits): 11111111 = 255</li>
                        <li>Third octet (4 bits): 11110000 = 240</li>
                        <li>Fourth octet (0 bits): 00000000 = 0</li>
                    </ul>
                </div>
            </div>

            <div class="example">
                <h4>Quick Reference</h4>
                <p class="note">Understanding how binary converts to decimal:</p>
                <table class="binary-table">
                    <tr>
                        <th>Bits</th>
                        <th>Binary</th>
                        <th>Position Values</th>
                        <th>Addition</th>
                        <th>Decimal</th>
                    </tr>
                    <tr>
                        <td>8 bits</td>
                        <td>11111111</td>
                        <td>128+64+32+16+8+4+2+1</td>
                        <td>255</td>
                        <td>255</td>
                    </tr>
                    <tr>
                        <td>7 bits</td>
                        <td>11111110</td>
                        <td>128+64+32+16+8+4+2+0</td>
                        <td>254</td>
                        <td>254</td>
                    </tr>
                    <tr>
                        <td>6 bits</td>
                        <td>11111100</td>
                        <td>128+64+32+16+8+4+0+0</td>
                        <td>252</td>
                        <td>252</td>
                    </tr>
                    <tr>
                        <td>5 bits</td>
                        <td>11111000</td>
                        <td>128+64+32+16+8+0+0+0</td>
                        <td>248</td>
                        <td>248</td>
                    </tr>
                    <tr>
                        <td>4 bits</td>
                        <td>11110000</td>
                        <td>128+64+32+16+0+0+0+0</td>
                        <td>240</td>
                        <td>240</td>
                    </tr>
                    <tr>
                        <td>3 bits</td>
                        <td>11100000</td>
                        <td>128+64+32+0+0+0+0+0</td>
                        <td>224</td>
                        <td>224</td>
                    </tr>
                    <tr>
                        <td>2 bits</td>
                        <td>11000000</td>
                        <td>128+64+0+0+0+0+0+0</td>
                        <td>192</td>
                        <td>192</td>
                    </tr>
                    <tr>
                        <td>1 bit</td>
                        <td>10000000</td>
                        <td>128+0+0+0+0+0+0+0</td>
                        <td>128</td>
                        <td>128</td>
                    </tr>
                </table>

                <div class="example" style="margin-top: 20px;">
                    <h4>How to Read This Table</h4>
                    <p>Each 1 in the binary number represents a position value that we add together:</p>
                    <ul>
                        <li><strong>Example 1:</strong> 10000000 = 128 (only the first 1 is present, so we only add 128)</li>
                        <li><strong>Example 2:</strong> 11000000 = 128 + 64 = 192 (first two 1s are present)</li>
                        <li><strong>Example 3:</strong> 11110000 = 128 + 64 + 32 + 16 = 240 (first four 1s are present)</li>
                    </ul>
                    <p class="note">Remember: Each position in binary represents a power of 2 (128, 64, 32, 16, 8, 4, 2, 1), and we add the values where we see a 1.</p>
                </div>
            </div>
        </div>

        <div class="step">
            <h3>Step 3: Network Calculations</h3>
            <div class="example">
                <p>For IP: 192.168.1.0/24</p>
                <ol>
                    <li>Network ID: AND the IP with subnet mask</li>
                    <li>Broadcast: Set all host bits to 1</li>
                    <li>First Usable: Network ID + 1</li>
                    <li>Last Usable: Broadcast - 1</li>
                </ol>
            </div>
        </div>

        <div class="step">
            <h3>Interactive Practice</h3>
            <div class="calculator">
                <h4>Complete Subnet Calculator</h4>
                <div class="example">
                    <p class="note">Follow these steps to understand subnetting:</p>
                    <ol>
                        <li>Enter an IP address (e.g., 192.168.1.0)</li>
                        <li>Enter CIDR notation (e.g., /24)</li>
                        <li>Click "Calculate" to see the step-by-step process</li>
                    </ol>
                </div>

                <div class="input-group">
                    <div class="input-field">
                        <label>IP Address:</label>
                        <input type="text" id="practiceIP" placeholder="e.g., 192.168.1.0">
                        <p class="hint">Format: x.x.x.x (0-255 for each octet)</p>
                    </div>
                    <div class="input-field">
                        <label>CIDR Notation:</label>
                        <input type="text" id="practiceCIDR" placeholder="e.g., 24" style="width: 100px">
                        <p class="hint">Range: 0-32</p>
                    </div>
                </div>

                <button onclick="showDetailedCalculation()">Calculate</button>

                <div class="example" style="margin-top: 20px;">
                    <h4>Detailed Subnetting Process</h4>
                    <div class="process-grid">
                        <div class="step-card">
                            <div class="step-number">1</div>
                            <h5>Network ID</h5>
                            <div class="step-content">
                                <div class="binary-box">
                                    <p class="step-title">Convert IP to Binary:</p>
                                    <div class="calculation-step">
                                        <span class="label">Given IP:</span>
                                        <span class="ip-value" id="givenIP">192.168.1.0</span>
                                    </div>
                                    <div class="calculation-step">
                                        <span class="label">First Octet (192):</span>
                                        <span class="binary-value">11000000</span>
                                    </div>
                                    <div class="calculation-step">
                                        <span class="label">Second Octet (168):</span>
                                        <span class="binary-value">10101000</span>
                                    </div>
                                    <div class="calculation-step">
                                        <span class="label">Third Octet (1):</span>
                                        <span class="binary-value">00000001</span>
                                    </div>
                                    <div class="calculation-step">
                                        <span class="label">Fourth Octet (0):</span>
                                        <span class="binary-value">00000000</span>
                                    </div>
                                    <div class="calculation-step">
                                        <span class="label">Full Binary:</span>
                                        <span class="binary-value">11000000.10101000.00000001.00000000</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="step-card">
                            <div class="step-number">2</div>
                            <h5>Convert Subnet Mask</h5>
                            <div class="step-content">
                                <div class="binary-box">
                                    <p class="step-title">Create Subnet Mask from CIDR:</p>
                                    <div class="calculation-step">
                                        <span class="label">CIDR:</span>
                                        <span class="ip-value" id="givenCIDR">/24</span>
                                    </div>
                                    <div class="calculation-step">
                                        <span class="label">1s for Network Bits:</span>
                                        <span class="binary-value" id="networkBits">11111111.11111111.11111111</span>
                                    </div>
                                    <div class="calculation-step">
                                        <span class="label">0s for Host Bits:</span>
                                        <span class="binary-value" id="hostBits">00000000</span>
                                    </div>
                                    <div class="calculation-step">
                                        <span class="label">Full Mask:</span>
                                        <span class="binary-value">11111111.11111111.11111111.00000000</span>
                                    </div>
                                    <div class="result-box">
                                        <strong>Subnet Mask:</strong> 255.255.255.0
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="step-card">
                            <div class="step-number">3</div>
                            <h5>AND Operation</h5>
                            <div class="step-content">
                                <div class="binary-box">
                                    <p class="step-title">Line up and AND the bits:</p>
                                    <div class="calculation-step">
                                        <span class="label">IP:</span>
                                        <span class="binary-value">11000000.10101000.00000001.00000000</span>
                                    </div>
                                    <div class="calculation-step">
                                        <span class="label">Mask:</span>
                                        <span class="binary-value">11111111.11111111.11111111.00000000</span>
                                    </div>
                                    <div class="calculation-step">
                                        <span class="label">Result:</span>
                                        <span class="binary-value">11000000.10101000.00000001.00000000</span>
                                    </div>
                                    <div class="result-box">
                                        <strong>Network ID:</strong> 192.168.1.0
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="step-card">
                            <div class="step-number">4</div>
                            <h5>Calculate Addresses</h5>
                            <div class="step-content">
                                <div class="binary-box">
                                    <p class="step-title">Find all addresses:</p>
                                    <div class="calculation-step">
                                        <span class="label">Network ID:</span>
                                        <span class="ip-value">192.168.1.0</span>
                                    </div>
                                    <div class="calculation-step">
                                        <span class="label">First Usable:</span>
                                        <span class="ip-value">Network ID + 1 = 192.168.1.1</span>
                                    </div>
                                    <div class="calculation-step">
                                        <span class="label">Last Usable:</span>
                                        <span class="ip-value">Broadcast - 1 = 192.168.1.254</span>
                                    </div>
                                    <div class="calculation-step">
                                        <span class="label">Broadcast:</span>
                                        <span class="ip-value">192.168.1.255</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <style>
                        .calculation-step {
                            display: flex;
                            justify-content: space-between;
                            align-items: center;
                            padding: 8px;
                            background: white;
                            border-radius: 4px;
                            margin: 5px 0;
                            border: 1px solid var(--border-color);
                        }

                        .step-title {
                            font-weight: 600;
                            color: var(--primary-color);
                            margin-bottom: 10px;
                            border-bottom: 1px solid var(--border-color);
                            padding-bottom: 5px;
                        }

                        .label {
                            font-weight: 500;
                            color: var(--secondary-color);
                            min-width: 120px;
                        }

                        .binary-value {
                            font-family: monospace;
                            background: #f8f9fa;
                            padding: 2px 6px;
                            border-radius: 3px;
                            font-size: 0.9em;
                        }

                        .ip-value {
                            font-family: monospace;
                            font-weight: 600;
                            color: var(--primary-color);
                        }

                        .process-grid {
                            display: grid;
                            grid-template-columns: repeat(2, 1fr);
                            gap: 20px;
                            margin: 20px 0;
                        }

                        @media (max-width: 1200px) {
                            .process-grid {
                                grid-template-columns: 1fr;
                            }
                        }
                    </style>

                    <script>
                        function updateSubnettingProcess() {
                            const ip = document.getElementById('practiceIP').value;
                            const cidr = document.getElementById('practiceCIDR').value;
                            
                            // Update displayed values
                            document.getElementById('givenIP').textContent = ip;
                            document.getElementById('givenCIDR').textContent = '/' + cidr;
                            
                            // Update binary calculations
                            const octets = ip.split('.');
                            const binaryOctets = octets.map(octet => {
                                return parseInt(octet).toString(2).padStart(8, '0');
                            });
                            
                            // Update network and host bits display
                            const totalBits = parseInt(cidr);
                            const networkBitsDisplay = '1'.repeat(totalBits);
                            const hostBitsDisplay = '0'.repeat(32 - totalBits);
                            
                            document.getElementById('networkBits').textContent = networkBitsDisplay;
                            document.getElementById('hostBits').textContent = hostBitsDisplay;
                            
                            // Recalculate all values based on new input
                            calculateAddresses(ip, parseInt(cidr));
                        }

                        // Add event listeners to input fields
                        document.getElementById('practiceIP').addEventListener('input', updateSubnettingProcess);
                        document.getElementById('practiceCIDR').addEventListener('input', updateSubnettingProcess);
                    </script>
                </div>
                
                <div id="detailedResult" class="result">
                    <!-- Results will be displayed here -->
                </div>
            </div>

            <div class="example">
                <h4>Understanding the Results</h4>
                <ul>
                    <li><strong>Network ID:</strong> The first address in your subnet (not usable for hosts)</li>
                    <li><strong>First Usable IP:</strong> The first IP address you can assign to a device</li>
                    <li><strong>Last Usable IP:</strong> The last IP address you can assign to a device</li>
                    <li><strong>Broadcast:</strong> The last address in your subnet (not usable for hosts)</li>
                    <li><strong>Total Usable Hosts:</strong> Number of IP addresses you can assign to devices</li>
                </ul>
                <p class="note">Remember: Network ID and Broadcast addresses cannot be assigned to devices!</p>
            </div>
        </div>
    </div>

    <script>
        function decimalToBinary(decimal) {
            let binary = '';
            let value = decimal;
            const positions = [128, 64, 32, 16, 8, 4, 2, 1];
            
            positions.forEach(pos => {
                if (value >= pos) {
                    binary += '1';
                    value -= pos;
                } else {
                    binary += '0';
                }
            });
            
            return binary;
        }

        function binaryToDecimal(binary) {
            return parseInt(binary, 2);
        }

        function calculateSubnet() {
            const ipInput = document.getElementById('ipInput').value;
            const cidr = parseInt(document.getElementById('cidrInput').value);
            const result = document.getElementById('result');
            
            // Split IP into octets
            const octets = ipInput.split('.');
            if (octets.length !== 4) {
                alert('Please enter a valid IP address');
                return;
            }

            // Convert octets to binary
            const binaryOctets = octets.map(octet => decimalToBinary(parseInt(octet)));
            const fullBinary = binaryOctets.join('');

            // Create subnet mask
            const maskBinary = '1'.repeat(cidr) + '0'.repeat(32 - cidr);
            const maskOctets = [
                maskBinary.slice(0, 8),
                maskBinary.slice(8, 16),
                maskBinary.slice(16, 24),
                maskBinary.slice(24, 32)
            ].map(bin => binaryToDecimal(bin));

            // Calculate network address
            const networkBinary = fullBinary.slice(0, cidr) + '0'.repeat(32 - cidr);
            const networkOctets = [
                networkBinary.slice(0, 8),
                networkBinary.slice(8, 16),
                networkBinary.slice(16, 24),
                networkBinary.slice(24, 32)
            ].map(bin => binaryToDecimal(bin));

            // Calculate broadcast address
            const broadcastBinary = fullBinary.slice(0, cidr) + '1'.repeat(32 - cidr);
            const broadcastOctets = [
                broadcastBinary.slice(0, 8),
                broadcastBinary.slice(8, 16),
                broadcastBinary.slice(16, 24),
                broadcastBinary.slice(24, 32)
            ].map(bin => binaryToDecimal(bin));

            // Calculate first and last usable addresses
            const firstUsable = [...networkOctets];
            firstUsable[3] += 1;

            const lastUsable = [...broadcastOctets];
            lastUsable[3] -= 1;

            result.style.display = 'block';
            result.innerHTML = `
                <h4>Results:</h4>
                <p>Network ID: ${networkOctets.join('.')}</p>
                <p>First Usable: ${firstUsable.join('.')}</p>
                <p>Last Usable: ${lastUsable.join('.')}</p>
                <p>Broadcast: ${broadcastOctets.join('.')}</p>
                <p>Subnet Mask: ${maskOctets.join('.')}</p>
                <p>Total Hosts: ${Math.pow(2, 32-cidr) - 2}</p>
            `;
        }

        function showBinaryConversion() {
            const input = document.getElementById('ipForBinary').value;
            const result = document.getElementById('binaryResult');
            let steps = '<h4>Binary Conversion Steps:</h4><ol>';
            
            let num = parseInt(input);
            let value = num;
            let binary = '';
            const positions = [128, 64, 32, 16, 8, 4, 2, 1];
            
            positions.forEach(pos => {
                if (value >= pos) {
                    binary += '1';
                    steps += `<li>Can subtract ${pos} from ${value}? Yes! ${value} - ${pos} = ${value - pos} (1)</li>`;
                    value -= pos;
                } else {
                    binary += '0';
                    steps += `<li>Can subtract ${pos} from ${value}? No (0)</li>`;
                }
            });
            
            steps += '</ol>';
            steps += `<p class="highlight">Final Binary: ${binary}</p>`;
            
            result.style.display = 'block';
            result.innerHTML = steps;
        }

        function showDetailedCalculation() {
            const ip = document.getElementById('practiceIP').value;
            const cidr = parseInt(document.getElementById('practiceCIDR').value);
            const result = document.getElementById('detailedResult');
            
            // Input validation
            if (!ip || !cidr || cidr < 0 || cidr > 32) {
                result.style.display = 'block';
                result.innerHTML = '<p style="color: #ff3333;">Please enter a valid IP address and CIDR (0-32)</p>';
                return;
            }

            // Convert IP to binary
            const octets = ip.split('.');
            if (octets.length !== 4 || octets.some(octet => isNaN(octet) || octet < 0 || octet > 255)) {
                result.style.display = 'block';
                result.innerHTML = '<p style="color: #ff3333;">Please enter a valid IP address (format: x.x.x.x)</p>';
                return;
            }

            const binaryOctets = octets.map(octet => {
                const bin = decimalToBinary(parseInt(octet));
                return bin;
            });
            
            // Show binary conversion with highlighting
            let output = '<h4>Step 1: Convert IP to Binary</h4>';
            output += '<div class="example">';
            output += `<p>IP Address: ${ip}</p>`;
            output += '<table class="binary-table">';
            output += '<tr><th>Octet</th><th>Decimal</th><th>Binary</th></tr>';
            octets.forEach((octet, index) => {
                output += `<tr>
                    <td>Octet ${index + 1}</td>
                    <td>${octet}</td>
                    <td>${binaryOctets[index]}</td>
                </tr>`;
            });
            output += '</table></div>';
            
            // Show subnet mask with network and host portions
            const maskBinary = '1'.repeat(cidr) + '0'.repeat(32 - cidr);
            const maskOctets = [
                maskBinary.slice(0, 8),
                maskBinary.slice(8, 16),
                maskBinary.slice(16, 24),
                maskBinary.slice(24, 32)
            ];
            
            output += '<h4>Step 2: Subnet Mask Analysis</h4>';
            output += '<div class="example">';
            output += `<p>CIDR: /${cidr}</p>`;
            output += '<table class="binary-table">';
            output += '<tr><th colspan="32">Subnet Mask Binary</th></tr><tr>';
            maskBinary.split('').forEach((bit, index) => {
                output += `<td style="background-color: ${bit === '1' ? '#e3f2fd' : '#fff3cd'}">${bit}</td>`;
                if ((index + 1) % 8 === 0 && index < 31) output += '</tr><tr>';
            });
            output += '</tr></table>';
            
            // Calculate decimal subnet mask
            const decimalMask = maskOctets.map(octet => binaryToDecimal(octet)).join('.');
            output += `<p>Subnet Mask: ${decimalMask}</p></div>`;
            
            // Show ANDing process with detailed steps
            output += '<h4>Step 3: AND Operation</h4>';
            output += '<div class="example">';
            const fullIP = binaryOctets.join('');
            const networkBinary = fullIP.slice(0, cidr) + '0'.repeat(32 - cidr);
            const broadcastBinary = fullIP.slice(0, cidr) + '1'.repeat(32 - cidr);
            
            output += '<table class="binary-table">';
            output += '<tr><th colspan="32">AND Operation</th></tr>';
            output += '<tr><td colspan="32">IP Address:</td></tr><tr>';
            fullIP.split('').forEach((bit, index) => {
                output += `<td>${bit}</td>`;
                if ((index + 1) % 8 === 0 && index < 31) output += '</tr><tr>';
            });
            output += '</tr><tr><td colspan="32">Subnet Mask:</td></tr><tr>';
            maskBinary.split('').forEach((bit, index) => {
                output += `<td>${bit}</td>`;
                if ((index + 1) % 8 === 0 && index < 31) output += '</tr><tr>';
            });
            output += '</tr><tr><td colspan="32">Result (Network ID):</td></tr><tr>';
            networkBinary.split('').forEach((bit, index) => {
                output += `<td>${bit}</td>`;
                if ((index + 1) % 8 === 0 && index < 31) output += '</tr><tr>';
            });
            output += '</tr></table></div>';
            
            // Calculate and display final results
            const networkOctets = [
                networkBinary.slice(0, 8),
                networkBinary.slice(8, 16),
                networkBinary.slice(16, 24),
                networkBinary.slice(24, 32)
            ].map(bin => binaryToDecimal(bin));

            const broadcastOctets = [
                broadcastBinary.slice(0, 8),
                broadcastBinary.slice(8, 16),
                broadcastBinary.slice(16, 24),
                broadcastBinary.slice(24, 32)
            ].map(bin => binaryToDecimal(bin));

            const firstUsable = [...networkOctets];
            firstUsable[3] += 1;

            const lastUsable = [...broadcastOctets];
            lastUsable[3] -= 1;

            const totalHosts = Math.pow(2, 32 - cidr) - 2;
            
            output += '<h4>Final Results</h4>';
            output += '<div class="example">';
            output += `<p><strong>Network ID:</strong> ${networkOctets.join('.')}</p>`;
            output += `<p><strong>First Usable IP:</strong> ${firstUsable.join('.')}</p>`;
            output += `<p><strong>Last Usable IP:</strong> ${lastUsable.join('.')}</p>`;
            output += `<p><strong>Broadcast Address:</strong> ${broadcastOctets.join('.')}</p>`;
            output += `<p><strong>Subnet Mask:</strong> ${decimalMask}</p>`;
            output += `<p><strong>Total Usable Hosts:</strong> ${totalHosts.toLocaleString()}</p>`;
            output += '</div>';
            
            result.style.display = 'block';
            result.innerHTML = output;
        }
    </script>
</body>
</html> 
